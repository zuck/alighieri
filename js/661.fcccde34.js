"use strict";(globalThis["webpackChunkalighieri"]=globalThis["webpackChunkalighieri"]||[]).push([[661],{4661:(e,t,o)=>{o.r(t),o.d(t,{default:()=>$});var n=o(1758);function i(e,t,o,i,l,c){const r=(0,n.g2)("editor"),a=(0,n.g2)("container"),d=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(d,{class:"flex justify-center"},{default:(0,n.k6)((()=>[(0,n.bF)(a,null,{default:(0,n.k6)((()=>[(0,n.bF)(r,{"model-value":e.content,"onUpdate:modelValue":e.onUpdateContent,"onUpdate:text":e.onUpdateStats},null,8,["model-value","onUpdate:modelValue","onUpdate:text"])])),_:1})])),_:1})}var l=o(6980);const c={class:"full-width mx-auto",style:{"max-width":"800px"}};function r(e,t){return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.RG)(e.$slots,"default")])}var a=o(2807);const d={},s=(0,a.A)(d,[["render",r]]),u=s;var g=o(8790);function p(e,t,o,i,l,c){const r=(0,n.g2)("q-item-section"),a=(0,n.g2)("q-item"),d=(0,n.g2)("q-list"),s=(0,n.g2)("q-menu"),u=(0,n.g2)("q-btn"),p=(0,n.g2)("q-separator"),f=(0,n.g2)("q-btn-group"),k=(0,n.g2)("bubble-menu"),b=(0,n.g2)("floating-menu"),h=(0,n.g2)("editor-content"),m=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.CE)(n.FK,null,[i.editor?((0,n.uX)(),(0,n.Wv)(k,{key:0,editor:i.editor,"tippy-options":{duration:100}},{default:(0,n.k6)((()=>[(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{dense:"",icon:"format_size",color:i.editor.isActive("heading")?"accent":i.color},{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,{separator:"",dense:""},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(6,(t=>(0,n.bo)((0,n.bF)(a,{key:t,clickable:"","active-class":"bg-accent text-white",active:i.editor.isActive("heading",{level:t}),onClick:e=>i.editor.chain().focus().toggleHeading({level:t}).run()},{default:(0,n.k6)((()=>[(0,n.bF)(r,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,g.v_)(e.$t(`H${t}`)),1)])),_:2},1024)])),_:2},1032,["active","onClick"]),[[m]]))),64))])),_:1})])),_:1})])),_:1},8,["color"]),(0,n.bF)(p,{vertical:""}),(0,n.bF)(u,{dense:"",icon:"format_align_left",color:i.editor.isActive({textAlign:"left"})?"accent":i.color,onClick:t[0]||(t[0]=e=>i.editor.chain().focus().setTextAlign("left").run())},null,8,["color"]),(0,n.bF)(u,{dense:"",icon:"format_align_center",color:i.editor.isActive({textAlign:"center"})?"accent":i.color,onClick:t[1]||(t[1]=e=>i.editor.chain().focus().setTextAlign("center").run())},null,8,["color"]),(0,n.bF)(u,{dense:"",icon:"format_align_right",color:i.editor.isActive({textAlign:"right"})?"accent":i.color,onClick:t[2]||(t[2]=e=>i.editor.chain().focus().setTextAlign("right").run())},null,8,["color"]),(0,n.bF)(p,{vertical:""}),(0,n.bF)(u,{dense:"",icon:"format_bold",color:i.editor.isActive("bold")?"accent":i.color,onClick:t[3]||(t[3]=e=>i.editor.chain().focus().toggleBold().run())},null,8,["color"]),(0,n.bF)(u,{dense:"",icon:"format_italic",color:i.editor.isActive("italic")?"accent":i.color,onClick:t[4]||(t[4]=e=>i.editor.chain().focus().toggleItalic().run())},null,8,["color"]),(0,n.bF)(u,{dense:"",icon:"format_underline",color:i.editor.isActive("underline")?"accent":i.color,onClick:t[5]||(t[5]=e=>i.editor.chain().focus().toggleUnderline().run())},null,8,["color"]),(0,n.bF)(u,{dense:"",icon:"format_strikethrough",color:i.editor.isActive("strike")?"accent":i.color,onClick:t[6]||(t[6]=e=>i.editor.chain().focus().toggleStrike().run())},null,8,["color"]),(0,n.bF)(u,{dense:"",icon:"code",color:i.editor.isActive("code")?"accent":i.color,onClick:t[7]||(t[7]=e=>i.editor.chain().focus().toggleCode().run())},null,8,["color"]),(0,n.bF)(p,{vertical:""}),(0,n.bF)(u,{dense:"",icon:"link",color:i.editor.isActive("link")?"accent":i.color,onClick:t[8]||(t[8]=()=>i.setLink(i.editor))},null,8,["color"]),(0,n.bF)(u,{dense:"",icon:"format_quote",color:i.editor.isActive("blockquote")?"accent":i.color,onClick:t[9]||(t[9]=e=>i.editor.chain().focus().toggleBlockquote().run())},null,8,["color"])])),_:1})])),_:1},8,["editor"])):(0,n.Q3)("",!0),i.editor?((0,n.uX)(),(0,n.Wv)(b,{key:1,editor:i.editor,"tippy-options":{duration:100}},{default:(0,n.k6)((()=>[(0,n.bF)(f,{flat:"",class:"q-ml-lg faded"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{flat:"",round:"",icon:"o_add_a_photo",onClick:t[10]||(t[10]=e=>i.addImage(i.editor))})])),_:1})])),_:1},8,["editor"])):(0,n.Q3)("",!0),(0,n.bF)(h,{class:(0,g.C4)(i.editorClass),editor:i.editor},null,8,["class","editor"])],64)}var f=o(1962),k=o(4838),b=o(3701),h=o(9638),m=o(7942),A=o(4594),v=o(8358),C=o(7242),F=o(3500),_=o(4907),x=o(3537),y=o(6704);const q={components:{EditorContent:C.$Z,BubbleMenu:C.mM,FloatingMenu:C.yQ},props:{modelValue:{type:String,default:""}},setup(e,{emit:t}){const{t:o}=(0,x.s9)(),i=(0,F.A)(((e,o)=>{t("update:modelValue",e),t("update:text",o)}),y.cS),c=(0,_.A)(),r=(0,l.Pj)(),a=(0,n.EW)((()=>"black")),d=(0,n.EW)((()=>({"par-space-between":r.state.base.parSpaceBetween,"par-indent-first-line":r.state.base.parIndentFirstLine}))),s=(0,C.hG)({content:e.modelValue,extensions:[v.A,b.Ay,A.A,m.Ay,h.A.configure({types:["heading","paragraph"]}),f.Ay,k.Ay],editorProps:{attributes:{class:"q-py-xl q-px-lg no-outline"}},onUpdate(){i(this.getHTML(),this.getText())}});function u(e){c.dialog({title:o("Add image"),prompt:{model:"",placeholder:o("Please, enter the image source URL"),type:"text"},cancel:!0,persistent:!0}).onOk((t=>{null!==t&&e.chain().focus().setImage({src:t}).run()}))}function g(e){const t=e.getAttributes("link").href;c.dialog({title:o("Set link"),prompt:{model:t,placeholder:o("Please, enter the link URL"),type:"text"},cancel:!0,persistent:!0}).onOk((t=>{t?e.chain().focus().setLink({href:t}).run():e.chain().focus().unsetLink().run()}))}return{editor:s,editorClass:d,color:a,addImage:u,setLink:g}},watch:{modelValue(e){const t=this.editor.getHTML()===e;t||this.editor.commands.setContent(e,!0)}}};var U=o(6031),Q=o(1693),L=o(4436),S=o(3999),I=o(124),w=o(5173),E=o(386),P=o(8672),T=o(8582),M=o.n(T);const V=(0,a.A)(q,[["render",p]]),W=V;M()(q,"components",{QBtnGroup:U.A,QBtn:Q.A,QMenu:L.A,QList:S.A,QItem:I.A,QItemSection:w.A,QSeparator:E.A}),M()(q,"directives",{ClosePopup:P.A});const B=(0,n.pM)({name:"PageIndex",components:{Container:u,Editor:W},setup(){const e=(0,l.Pj)(),t=(0,n.EW)((()=>e.state.editor.content));return(0,n.sV)((()=>e.dispatch("editor/reloadFile"))),{content:t,onUpdateContent(t){e.dispatch("editor/updateContent",t)},onUpdateStats(t){e.commit("editor/updateStats",t)}}}});var X=o(7716);const H=(0,a.A)(B,[["render",i]]),$=H;M()(B,"components",{QPage:X.A})}}]);